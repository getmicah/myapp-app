!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e){t.exports=React},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(16);e.default=new n.Dispatcher},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(14);e.default=n},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,s,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var h=new Error('Uncaught, unspecified "error" event. ('+e+")");throw h.context=e,h}if(r=this._events[t],o(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(i(r))for(a=Array.prototype.slice.call(arguments,1),s=(c=r.slice()).length,u=0;u<s;u++)c[u].apply(this,a);return!0},r.prototype.addListener=function(t,e){var s;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var i=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,o,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],s=r.length,o=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(r)){for(a=s;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){o=a;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){r(5),t.exports=r(11)},function(t,e,r){(function(t){!function(e){"use strict";function r(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return d.iterable&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function s(e){if(e.bodyUsed)return t.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new t(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function u(t){var e=new FileReader,r=a(e);return e.readAsArrayBuffer(t),r}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(d.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(d.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(d.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(d.arrayBuffer&&d.blob&&v(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!d.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return t.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return t.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return t.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?s(this)||t.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return function(t){var e=new FileReader,r=a(e);return e.readAsText(t),r}(this._bodyBlob);if(this._bodyArrayBuffer)return t.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return t.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(t,e){var r=(e=e||{}).body;if(t instanceof l){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=function(t){var e=t.toUpperCase();return m.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function f(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}}),e}function p(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new o(e.headers),this.url=e.url||"",this._initBody(t)}if(!e.fetch){var d={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(d.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&y.indexOf(Object.prototype.toString.call(t))>-1};o.prototype.append=function(t,e){t=r(t),e=n(e);var i=this.map[t];this.map[t]=i?i+","+e:e},o.prototype.delete=function(t){delete this.map[r(t)]},o.prototype.get=function(t){return t=r(t),this.has(t)?this.map[t]:null},o.prototype.has=function(t){return this.map.hasOwnProperty(r(t))},o.prototype.set=function(t,e){this.map[r(t)]=n(e)},o.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),i(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),i(t)},d.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this,{body:this._bodyInit})},h.call(l.prototype),h.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},p.error=function(){var t=new p(null,{status:0,statusText:""});return t.type="error",t};var b=[301,302,303,307,308];p.redirect=function(t,e){if(-1===b.indexOf(e))throw new RangeError("Invalid status code");return new p(null,{status:e,headers:{location:t}})},e.Headers=o,e.Request=l,e.Response=p,e.fetch=function(e,r){return new t(function(t,n){var i=new l(e,r),s=new XMLHttpRequest;s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:function(t){var e=new o;return t.split(/\r?\n/).forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}}),e}(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;t(new p(r,e))},s.onerror=function(){n(new TypeError("Network request failed"))},s.ontimeout=function(){n(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials&&(s.withCredentials=!0),"responseType"in s&&d.blob&&(s.responseType="blob"),i.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}).call(e,r(6))},function(t,e,r){t.exports=r(7).Promise},function(t,e,r){(function(e,n){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   3.3.1
 */
!function(e,r){t.exports=r()}(0,function(){"use strict";function t(t){return"function"==typeof t}function i(){var t=setTimeout;return function(){return t(o,1)}}function o(){for(var t=0;t<x;t+=2){(0,M[t])(M[t+1]),M[t]=void 0,M[t+1]=void 0}x=0}function s(){try{var t=r(10);return k=t.runOnLoop||t.runOnContext,function(){k(o)}}catch(t){return i()}}function a(t,e){var r=arguments,n=this,i=new this.constructor(c);void 0===i[D]&&w(i);var o=n._state;return o?function(){var t=r[o-1];j(function(){return b(o,i,t,n._result)})}():v(n,i,t,e),i}function u(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(c);return f(e,t),e}function c(){}function h(t){try{return t.then}catch(t){return H.error=t,H}}function l(e,r,n){r.constructor===e.constructor&&n===a&&r.constructor.resolve===u?function(t,e){e._state===N?d(t,e._result):e._state===F?y(t,e._result):v(e,void 0,function(e){return f(t,e)},function(e){return y(t,e)})}(e,r):n===H?y(e,H.error):void 0===n?d(e,r):t(n)?function(t,e,r){j(function(t){var n=!1,i=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?f(t,r):d(t,r))},function(e){n||(n=!0,y(t,e))},t._label);!n&&i&&(n=!0,y(t,i))},t)}(e,r,n):d(e,r)}function f(t,e){t===e?y(t,new TypeError("You cannot resolve a promise with itself")):!function(t){return"function"==typeof t||"object"==typeof t&&null!==t}(e)?d(t,e):l(t,e,h(e))}function p(t){t._onerror&&t._onerror(t._result),_(t)}function d(t,e){t._state===U&&(t._result=e,t._state=N,0!==t._subscribers.length&&j(_,t))}function y(t,e){t._state===U&&(t._state=F,t._result=e,j(p,t))}function v(t,e,r,n){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+N]=r,i[o+F]=n,0===o&&t._state&&j(_,t)}function _(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)n=e[s],i=e[s+r],n?b(r,n,i,o):i(o);t._subscribers.length=0}}function m(){this.error=null}function b(e,r,n,i){var o=t(n),s=void 0,a=void 0,u=void 0,c=void 0;if(o){if((s=function(t,e){try{return t(e)}catch(t){return K.error=t,K}}(n,i))===K?(c=!0,a=s.error,s=null):u=!0,r===s)return void y(r,new TypeError("A promises callback cannot return that same promise."))}else s=i,u=!0;r._state!==U||(o&&u?f(r,s):c?y(r,a):e===N?d(r,s):e===F&&y(r,s))}function w(t){t[D]=V++,t._state=void 0,t._result=void 0,t._subscribers=[]}function g(t,e){this._instanceConstructor=t,this.promise=new t(c),this.promise[D]||w(this.promise),O(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?d(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&d(this.promise,this._result))):y(this.promise,new Error("Array Methods must be provided an Array"))}function A(t){this[D]=V++,this._result=this._state=void 0,this._subscribers=[],c!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof A?function(t,e){try{e(function(e){f(t,e)},function(e){y(t,e)})}catch(e){y(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function T(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=A}var E=void 0,O=E=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},x=0,k=void 0,S=void 0,j=function(t,e){M[x]=t,M[x+1]=e,2===(x+=2)&&(S?S(o):C())},P="undefined"!=typeof window?window:void 0,R=P||{},I=R.MutationObserver||R.WebKitMutationObserver,L="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),B="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,M=new Array(1e3),C=void 0;C=L?function(){return e.nextTick(o)}:I?function(){var t=0,e=new I(o),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}():B?function(){var t=new MessageChannel;return t.port1.onmessage=o,function(){return t.port2.postMessage(0)}}():void 0===P?s():i();var D=Math.random().toString(36).substring(16),U=void 0,N=1,F=2,H=new m,K=new m,V=0;return g.prototype._enumerate=function(){for(var t=this.length,e=this._input,r=0;this._state===U&&r<t;r++)this._eachEntry(e[r],r)},g.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===u){var i=h(t);if(i===a&&t._state!==U)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===A){var o=new r(c);l(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},g.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===U&&(this._remaining--,t===F?y(n,r):this._result[e]=r),0===this._remaining&&d(n,this._result)},g.prototype._willSettleAt=function(t,e){var r=this;v(t,void 0,function(t){return r._settledAt(N,e,t)},function(t){return r._settledAt(F,e,t)})},A.all=function(t){return new g(this,t).promise},A.race=function(t){var e=this;return new e(O(t)?function(r,n){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(r,n)}:function(t,e){return e(new TypeError("You must pass an array to race."))})},A.resolve=u,A.reject=function(t){var e=new this(c);return y(e,t),e},A._setScheduler=function(t){S=t},A._setAsap=function(t){j=t},A._asap=j,A.prototype={constructor:A,then:a,catch:function(t){return this.then(null,t)}},T(),A.polyfill=T,A.Promise=A,A})}).call(e,r(8),r(9))},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(){d&&f&&(d=!1,f.length?p=f.concat(p):y=-1,p.length&&s())}function s(){if(!d){var t=i(o);d=!0;for(var e=p.length;e;){for(f=p,p=[];++y<e;)f&&f[y].run();y=-1,e=p.length}f=null,d=!1,function(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function u(){}var c,h,l=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var f,p=[],d=!1,y=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];p.push(new a(t,e)),1!==p.length||d||i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=u,l.addListener=u,l.once=u,l.off=u,l.removeListener=u,l.removeAllListeners=u,l.emit=u,l.prependListener=u,l.prependOnceListener=u,l.listeners=function(t){return[]},l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(12),o=r(13),s=r(34);r(35);i.render(n.createElement(function(){return n.createElement("div",null,n.createElement(s.default,null),n.createElement(o.default,null))},null),document.getElementById("root"))},function(t,e){t.exports=ReactDOM},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(2),s=r(15),a=r(17),u=r(18),c=r(32);r(33);var h=function(t){function e(e){var r=t.call(this,e)||this;return r.state={authenticated:s.default.getAuthentication(),loaded:!1,error:null},r}return n(e,t),e.prototype.updateAuth=function(){this.setState({authenticated:s.default.getAuthentication()})},e.prototype.fetchAuth=function(){var t=this;fetch(o.default.apiURL+"/auth",{method:"GET",credentials:"include"}).then(function(t){if(!t.ok)throw Error();return t.json()}).then(function(){t.setState({loaded:!0}),a.resolve()}).catch(function(){t.setState({loaded:!0}),a.reject()})},e.prototype.componentWillMount=function(){s.default.on("change",this.updateAuth.bind(this)),this.state.authenticated||this.fetchAuth()},e.prototype.render=function(){return i.createElement("main",{className:this.state.loaded?null:"hidden"},this.state.error?this.state.error:null,this.state.authenticated?i.createElement(u.default,null):i.createElement(c.default,null))},e}(i.Component);e.default=h},function(t,e){t.exports={auth:{redirect:"http://localhost:3000/auth/callback",scope:["user-read-currently-playing","user-read-playback-state","user-read-recently-played"]},env:{spotifyID:"SPOTIFY_ID",spotifySecret:"SPOTIFY_SECRET"},path:"./public",port:3e3,version:1,apiURL:"http://localhost:3000",appURL:"http://localhost:8080",production:!1}},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),o=r(1),s=new(function(t){function e(){var e=t.call(this)||this;return e.authenticated=!1,e}return n(e,t),e.prototype.getAuthentication=function(){return this.authenticated},e.prototype.setAuthentication=function(t){this.authenticated=t,this.emit("change")},e.prototype.handleActions=function(t){switch(t.type){case"RESOLVE":this.setAuthentication(!0);break;case"REJECT":this.setAuthentication(!1)}},e}(i.EventEmitter));o.default.register(s.handleActions.bind(s)),e.default=s},function(t,e){t.exports=Flux},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);e.resolve=function(){n.default.dispatch({type:"RESOLVE"})},e.reject=function(){n.default.dispatch({type:"REJECT"})}},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(19),s=r(20),a=r(21),u=r(22),c=r(23),h=r(24),l=r(25),f=r(31),p=function(t){function e(e){var r=t.call(this,e)||this;return r.state={artists:a.default.get(),tracks:c.default.get(),showArtists:o.default.getArtists(),showTracks:o.default.getTracks()},r}return n(e,t),e.prototype.updateArtists=function(){this.setState({artists:a.default.get()})},e.prototype.updateTracks=function(){this.setState({tracks:c.default.get()})},e.prototype.updateView=function(){this.setState({showArtists:o.default.getArtists()}),this.setState({showTracks:o.default.getTracks()})},e.prototype.handleArtistsNext=function(){this.state.artists.length>0?(s.hideArtists(),setTimeout(s.showTracks,500)):alert("Add a least one artist")},e.prototype.handleTracksNext=function(){this.state.tracks.length>0?s.hideTracks():alert("Add a least one track")},e.prototype.handleTracksBack=function(){s.hideTracks(),setTimeout(s.showTracks,500)},e.prototype.componentWillMount=function(){a.default.on("change",this.updateArtists.bind(this)),o.default.on("change",this.updateView.bind(this))},e.prototype.render=function(){return i.createElement("div",null,i.createElement(f.default,null),i.createElement(l.default,{className:this.state.showArtists?null:"hidden",type:"artist",store:a.default,actions:u,next:this.handleArtistsNext.bind(this),back:null}),i.createElement(l.default,{className:this.state.showTracks?null:"hidden",type:"track",store:c.default,actions:h,next:this.handleTracksNext.bind(this),back:this.handleTracksBack.bind(this)}))},e}(i.Component);e.default=p},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),o=r(1),s=new(function(t){function e(){var e=t.call(this)||this;return e.artists=!0,e.tracks=!1,e}return n(e,t),e.prototype.getArtists=function(){return this.artists},e.prototype.getTracks=function(){return this.tracks},e.prototype.setArtists=function(t){this.artists=t,this.emit("change")},e.prototype.setTracks=function(t){this.tracks=t,this.emit("change")},e.prototype.handleActions=function(t){switch(t.type){case"HIDE_ARTISTS":this.setArtists(!1);break;case"SHOW_ARTISTS":this.setArtists(!0);break;case"HIDE_TRACKS":this.setTracks(!1);break;case"SHOW_TRACKS":this.setTracks(!0)}},e}(i.EventEmitter));o.default.register(s.handleActions.bind(s)),e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);e.hideArtists=function(){n.default.dispatch({type:"HIDE_ARTISTS"})},e.showArtists=function(){n.default.dispatch({type:"SHOW_ARTISTS"})},e.hideTracks=function(){n.default.dispatch({type:"HIDE_TRACKS"})},e.showTracks=function(){n.default.dispatch({type:"SHOW_TRACKS"})}},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),o=r(1),s=new(function(t){function e(){var e=t.call(this)||this;return e.artists=[],e}return n(e,t),e.prototype.get=function(){return this.artists},e.prototype.addArtist=function(t){-1==this.artists.indexOf(t)&&(this.artists.push(t),this.emit("change"))},e.prototype.removeArtist=function(t){for(var e=0;e<this.artists.length;e++)this.artists[e].id===t.id&&(this.artists=this.artists.splice(e,1),this.emit("change"))},e.prototype.removeArtistByIndex=function(t){this.artists.length>t&&(this.artists.splice(t,1),this.emit("change"))},e.prototype.handleActions=function(t){switch(t.type){case"ADD_ARTIST":this.addArtist(t.payload);break;case"REMOVE_ARTIST":this.removeArtist(t.payload);break;case"REMOVE_ARTIST_INDEX":this.removeArtistByIndex(t.payload)}},e}(i.EventEmitter));o.default.register(s.handleActions.bind(s)),e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);e.add=function(t){n.default.dispatch({type:"ADD_ARTIST",payload:t})},e.remove=function(t){n.default.dispatch({type:"REMOVE_ARTIST",payload:t})},e.removeByIndex=function(t){n.default.dispatch({type:"REMOVE_ARTIST_INDEX",payload:t})}},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),o=r(1),s=new(function(t){function e(){var e=t.call(this)||this;return e.tracks=[],e}return n(e,t),e.prototype.get=function(){return this.tracks},e.prototype.addTrack=function(t){-1==this.tracks.indexOf(t)&&(this.tracks.push(t),this.emit("change"))},e.prototype.removeTrack=function(t){for(var e=0;e<this.tracks.length;e++)this.tracks[e].id===t.id&&(this.tracks=this.tracks.splice(e,1),this.emit("change"))},e.prototype.removeTrackByIndex=function(t){this.tracks.length>t&&(this.tracks.splice(t,1),this.emit("change"))},e.prototype.handleActions=function(t){switch(t.type){case"ADD_TRACK":this.addTrack(t.payload);break;case"REMOVE_TRACK":this.removeTrack(t.payload);break;case"REMOVE_TRACK_INDEX":this.removeTrackByIndex(t.payload)}},e}(i.EventEmitter));o.default.register(s.handleActions.bind(s)),e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);e.add=function(t){n.default.dispatch({type:"ADD_TRACK",payload:t})},e.remove=function(t){n.default.dispatch({type:"REMOVE_TRACK",payload:t})},e.removeByIndex=function(t){n.default.dispatch({type:"REMOVE_TRACK_INDEX",payload:t})}},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(26),s=r(27),a=r(29),u=function(t){function e(e){var r=t.call(this,e)||this;return r.state={selected:e.store.get(),searchResults:[],selectedIndex:-1,error:null},r}return n(e,t),e.prototype.updateSelected=function(){this.setState({selected:this.props.store.get()})},e.prototype.addByIndex=function(t){this.state.selected.length>=5?this.setState({error:"Only 5 "+this.props.type+"s allowed"}):this.props.actions.add(this.state.searchResults[t])},e.prototype.handleSearch=function(t){var e=[];if(t.length>0){for(var r=0;r<t.length;r++){for(var n=new o.SpotifyItem(t[r]),i=!0,s=0;s<e.length;s++)e[s].name==n.name&&(i=!1);i&&e.push(n)}this.setState({selectedIndex:-1}),this.setState({searchResults:e})}},e.prototype.handleSearchKeyDown=function(t){switch(t.keyCode){case 13:t.preventDefault();var e=this.state.selectedIndex,r=this.state.searchResults[e];if(r&&e>-1){if(this.state.selected.length>=5){this.setState({error:"Only 5 "+this.props.type+"s allowed"});break}this.props.actions.add(r)}break;case 38:t.preventDefault();(e=this.state.selectedIndex)>-1&&this.setState({selectedIndex:e-1});break;case 40:t.preventDefault();(e=this.state.selectedIndex)<this.state.searchResults.length-1&&this.setState({selectedIndex:e+1})}},e.prototype.handleSearchError=function(t){this.setState({error:t})},e.prototype.componentWillMount=function(){this.props.store.on("change",this.updateSelected.bind(this))},e.prototype.render=function(){return i.createElement("section",{className:this.props.className},i.createElement("h2",null,"Add ",this.props.type,"s"),i.createElement(s.default,{type:this.props.type,delay:200,handler:this.handleSearch.bind(this),keydown:this.handleSearchKeyDown.bind(this),error:this.handleSearchError.bind(this)}),this.state.error?i.createElement("span",null,this.state.error):null,i.createElement(a.default,{selected:this.state.selectedIndex,items:this.state.searchResults,onItemClick:this.addByIndex.bind(this)}),i.createElement(a.default,{selected:null,items:this.state.selected,onItemClick:this.props.actions.removeByIndex}),this.props.back?i.createElement("button",{onClick:this.props.back},"Back"):null,i.createElement("button",{onClick:this.props.next},"Next"))},e}(i.Component);e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t){this.name=t.name}}(),i=function(){return function(t){this.id=t.id,this.name=t.name,this.artist,t.artists&&(this.artist=new n(t.artists[0]).name)}}();e.SpotifyItem=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(2),s=r(28),a=function(t){function e(e){var r=t.call(this,e)||this;return r.state={value:""},r.placeholderText="Search for "+e.type+' or insert "spotify:'+e.type+':uri"',r.fetchSearch=s.default(r.fetchSearch.bind(r),r.props.delay,null),r}return n(e,t),e.prototype.fetchID=function(t,e){var r=this,n=o.default.apiURL+"/"+this.props.type+"?id="+t;fetch(n,{method:"GET",credentials:"include"}).then(function(t){if(!t.ok)throw Error(t.statusText);return t.json()}).then(function(t){r.props.error(null),r.props.handler([t])}).catch(function(t){r.props.error(t)})},e.prototype.fetchSearch=function(t){var e=this,r=o.default.apiURL+"/search?q="+t+"&type="+this.props.type;fetch(r,{method:"GET",credentials:"include"}).then(function(t){if(!t.ok)throw Error();return t.json()}).then(function(t){e.props.error(null),e.props.handler(t[e.props.type+"s"].items)}).catch(function(t){t.toString()?e.props.error(t.toString):e.props.error(t+"")})},e.prototype.handleNewQuery=function(){var t="spotify:"+this.props.type+":",e=this.state.value;if(e.substring(0,t.length)!=t)e.length>1&&this.fetchSearch(e);else{var r=e.substring(t.length,e.length);this.fetchID(r,this.props.type)}},e.prototype.handleChange=function(t){var e=t.currentTarget.value;this.setState({value:e},this.handleNewQuery.bind(this))},e.prototype.render=function(){return i.createElement("input",{type:"text",onChange:this.handleChange.bind(this),onKeyDown:this.props.keydown,placeholder:this.placeholderText,value:this.state.value})},e}(i.Component);e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n;return function(){for(var i=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];clearTimeout(n),n=setTimeout(function(){n=null,r||t.apply(i,o)},e),r&&!n&&t.apply(this,o.slice())}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(30);e.default=function(t){return n.createElement("ul",null,t.items.map(function(e,r){return n.createElement(i.default,{key:r,item:e,selected:r==t.selected,onClick:function(){return t.onItemClick(r)}})}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0);e.default=function(t){return n.createElement("li",{className:t.selected?"selected":null,onClick:t.onClick},t.item.artist?t.item.artist+" - ":null,t.item.name)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(2);e.default=function(){return n.createElement("a",{href:i.default.apiURL+"/auth/logout"},"Logout")}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(2);e.default=function(){return n.createElement("a",{href:i.default.apiURL+"/auth/login"},"Login with Spotify")}},function(t,e){},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0);e.default=function(){return n.createElement("header",null,n.createElement("h1",null,"myapp"))}},function(t,e){}]);